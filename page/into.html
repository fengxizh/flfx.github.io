<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8" />
	<title>沨汐の主页</title>
	<link rel="stylesheet" type="text/css" href="css/style.css"/>
	<link rel="stylesheet" type="text/css" href="css/0.css"/>
  </head>
  <body>
	<div  class="kuala fix">
	  <div class="kuala-1-1"><span>导航仪</span>
		<ul class="fix">
			<li><a href="/">首页引导</a></li>
			<li><a href="">信息</a></li>
			<li><a href="">关于我</a></li>
			<li><a href="">联系方式</a></li>
			<li><a href="">图片订正</a></li>
			<li><a href="">技术Ծ ̮ Ծ</a></li>
		  </ul>
	  </div>
	  
	<!--轮播-->
	<div id="wrapper">
	  <div id="imgs">
		<ul>
		  <li><a href=""><img src="image/d.jpeg" alt="1"></a></li>
		  <li><a href=""><img src="image/b.jpeg" alt="2"></a></li>
		  <li><a href=""><img src="image/d.jpeg" alt="3"></a></li>
		  <li><a href=""><img src="image/d.jpeg" alt="4"></a></li>
		  <li><a href=""><img src="image/d.jpeg" alt="5"></a></li>
		  <li><a href=""><img src="image/d.jpeg" alt="6"></a></li>
		  
		</ul>
	  </div>
	  <div class="clear"></div>
	  <div id="nav">
		<ul>
		  <li><a class="current">1</a></li>
		  <li><a>2</a></li>
		  <li><a>3</a></li>
		  <li><a>4</a></li>
		</ul>
	  </div>
	  <div id="preous"><</div>
	  <div id="next">></div>
	</div>
<script type="text/javascript">
window.onload = function() {
	var imgs_div=document.getElementById("imgs");
	var nav_div=document.getElementById("nav");
	var imgsUl=imgs_div.getElementsByTagName("ul")[0];
	var nav=nav_div.getElementsByTagName("ul")[0];
	var prious=document.getElementById("preous");
	var next =document.getElementById("next");
	var timer;
	var animTimer;
	var index=1;
	play();
	prious.onclick = function() {
		initImgs(index);
		index -= 1;
		if (index < 1)
		{
			index = 4;
		}
		animate(1280);
		btnShow(index);
	}
	next.onclick = function() {
		initImgs(index);
		index += 1;
		if (index > 4)
		{
			index = 1;
		}
		animate(-1280);
		btnShow(index);
	}

	function animate(offset) {
		var newLeft=parseInt(imgsUl.offsetLeft) + offset;
		if (newLeft > -1280)
		{
			donghua(-5120);	
		}
		else if (newLeft < -5120)
		{
			donghua(-1280);	
		}
		else
		{
			donghua(newLeft);
		}

	}
	function donghua(offset) {
		clearInterval(animTimer);
		animTimer = setInterval(function() {
									imgsUl.style.left = imgsUl.offsetLeft + (offset - imgsUl.offsetLeft) / 10 + "px";
									if (imgsUl.offsetLeft - offset < 10 && imgsUl.offsetLeft - offset > -10)
									{imgsUl.style.left = offset + "px";
										clearInterval(animTimer);
										play();			
									}
								}, 20);
	}
	function initImgs(cur_index) {
		clearInterval(timer);
		clearInterval(animTimer);
		var off=cur_index * 1280;
		imgsUl.style.left = -off + "px";
	}
	function play() {
		timer = setInterval(function() {
								next.onclick();
							}, 2000)
	}
	function btnShow(cur_index) {
		var list=nav.children;
		for (var i=0;i < nav.children.length;i++)
		{
			nav.children[i].children[0].className = "hidden";
		}
		nav.children[cur_index - 1].children[0].className = "current";
	}
	for (var i=0;i < nav.children.length;i++)
	{
		nav.children[i].index = i;
		var sd=nav.children[i].index;
		nav.children[i].onmouseover = function() {
			index = this.index + 1;
			initImgs(this.index + 1);
			btnShow(this.index + 1);
		}
		nav.children[i].onmouseout = function() {
			play();
		}
	}

}
</script>
<!--2-->
	<div  class="kuala fix">
	  <div class="kuala-1"><span>哈哈</span>
	  </div>
	</div>
	  <!--文段-->
	  <p>没有什么说的呢。</p>
	<!--底部-->
	<div id="footer">
	  <p>沨汐の主页 Liam Brook</p>
	</div>
	</div>   </body>
</html>
